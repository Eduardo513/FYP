<html>
<h1>Parties Menu</h1>
<mat-tab-group>
    <mat-tab label="Create a Party">
        <br>
        <p>Select the friends you wish to invite</p>


        <p>Party accessibility</p>
        <div class="example-container">
            <form class="example-container">


                <mat-radio-group aria-label="Party accessibility" [(ngModel)]="selectedAccessibility" name="access">
                    <mat-radio-button *ngFor="let access of accessibilityOptions" [value]="access" required>
                        {{access}}

                    </mat-radio-button>

                </mat-radio-group>
            </form>

            <mat-form-field>

                <input matInput [min]="minDate" [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="selectedDate" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>


            </mat-form-field>

            <mat-form-field>
                <mat-select placeholder="Friends" [(ngModel)]="selectedFriends" multiple required>
                    <mat-option *ngFor="let friend of friends" [value]="friend">{{friend.username}}</mat-option>
                </mat-select>

            </mat-form-field>

            <mat-form-field>


                <mat-select placeholder="Game" [(ngModel)]="selectedGame" required>
                    <mat-option *ngFor="let game of games" [value]="game">{{game.name}}</mat-option>
                </mat-select>

            </mat-form-field>
            <div *ngIf="selectedFriends.length > 0 &&  selectedDate != undefined && selectedGame != undefined &&(selectedAccessibility == 'Public' || selectedAccessibility == 'Private') ">

                <button type="submit" (click)="submitForm()" mat-raised-button color="primary">Create Party</button>

            </div>


        </div>

    </mat-tab>
    

    <mat-tab label="View Public Parties">
           
           
        <div class="example-container mat-elevation-z8">
            <mat-table #table [dataSource]="dataSource">
                
        
                    <ng-container *ngFor="let column of columns" [cdkColumnDef]="column.columnDef">
                            <mat-header-cell *cdkHeaderCellDef>{{ column.header }}</mat-header-cell>
                            <mat-cell  *cdkCellDef="let row" > {{column.cell(row)}}  </mat-cell>
                          </ng-container>

                         
              
            
                          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
            </mat-table>
        </div>
    </mat-tab>
</mat-tab-group>

</html>